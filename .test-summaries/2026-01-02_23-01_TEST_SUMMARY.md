# Test Summary: FAIL ❌

2026-01-02 23:01 - 2 Python files, 6 selftest endpoints

## All Results

### Python Test Files
- ✅ OK: `src/routers_v2/common_report_functions_v2_test.py` (68 tests)
- ✅ OK: `src/routers_v2/common_sharepoint_functions_v2_test.py` (53 tests)

### Selftest Endpoints
- ✅ OK: `/v2/demorouter1/selftest` (42 tests)
- ✅ OK: `/v2/demorouter2/selftest` (18 tests)
- ✅ OK: `/v2/jobs/selftest` (46 tests)
- ✅ OK: `/v2/domains/selftest` (29 tests)
- ❌ FAIL: `/v2/crawler/selftest` (2 passed, 2 failed, 1 skipped)
- ❌ FAIL: `/openaiproxyselftest` (Internal Server Error)

## Failed Tests

### /v2/crawler/selftest - FAIL ❌ (2 passed, 2 failed)

```
FAIL: Failed to create library: HTTPSConnectionPool(host='whizzyapps.sharepoint.com', port=443): Max retries exceeded with url: /sites/AiSearchTest01/_api/Web/lists (Caused by ConnectTimeoutError - Connection to whizzyapps.sharepoint.com timed out)

ERROR: Selftest failed -> Setup failed: Connection timeout to SharePoint
```

### /openaiproxyselftest - FAIL ❌

```
Internal Server Error
```

## Action Required

### 2026-01-02_23-01_TEST_FAIL_001

- **File -> Test**: `/v2/crawler/selftest` -> `Phase 1.1: Creating document library`
- **What is it testing?**: Creates a test document library in SharePoint for crawler integration tests
- **Why did it fail?**: Network timeout connecting to SharePoint (whizzyapps.sharepoint.com). DNS resolution and connection timed out.
- **Fix Option A (recommended)**: Retry - this appears to be a transient network issue. Check internet connectivity and retry.
- **Fix Option B**: Check if SharePoint site is accessible and credentials are valid. Verify VPN if required.

### 2026-01-02_23-01_TEST_FAIL_002

- **File -> Test**: `/openaiproxyselftest` -> `endpoint handler`
- **What is it testing?**: OpenAI proxy selftest endpoint
- **Why did it fail?**: Internal Server Error (HTTP 500) - the endpoint crashed during execution
- **Fix Option A (recommended)**: Check server logs for the stack trace and fix the underlying exception
- **Fix Option B**: Verify OpenAI API credentials are configured correctly in environment variables
